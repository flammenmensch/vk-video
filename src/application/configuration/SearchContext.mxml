<?xml version="1.0" encoding="utf-8"?>
<Objects xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns="http://www.spicefactory.org/parsley">
	
	<fx:Script>
		<![CDATA[
			import application.commands.AddVideoCommand;
			import application.commands.SearchCommand;
			import application.messages.SearchMessage;
			import application.messages.VideoMessage;
			
			import domain.UserModel;
			
			import infrastructure.VkService;
			
			import presentation.SearchPM;
		]]>
	</fx:Script>
	
	<fx:Declarations>
		
		<MapCommand messageType="{SearchMessage}">
			<Command type="{SearchCommand}">
				<Property name="vk" typeRef="{VkService}" />
				<Property name="user" typeRef="{UserModel}" />
			</Command>
		</MapCommand>
		
		<MapCommand messageType="{VideoMessage}" selector="{VideoMessage.ADD}">
			<Command type="{AddVideoCommand}">
				<Property name="vk" typeRef="{VkService}" />
				<Property name="user" typeRef="{UserModel}" />
			</Command>
		</MapCommand>
		
		<Object type="{SearchPM}">
			<MessageDispatcher property="dispatcher" />
			<CommandStatus property="isSearching" type="{SearchMessage}" />
			<CommandResult method="searchComplete" type="{SearchMessage}" />
		</Object>
		
	</fx:Declarations>
	
</Objects>